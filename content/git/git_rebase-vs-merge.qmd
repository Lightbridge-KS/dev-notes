# Git rebase vs merge

### Understanding

#### Merge Strategy

Creates a merge commit that ties two histories together:

- Before git pull --no-rebase:
  
  ```
           A (your commit)
          /
  ---o---o
          \
           B---C---D (remote commits)
  ```

- After git pull --no-rebase:

```
           A
          /   \
  ---o---o     M (merge commit)
          \   /
           B-C-D
```

#### Rebase Strategy

Replays your commits on top of the remote commits:

  
- Before git pull --rebase:
  
```
           A (your commit)
          /
  ---o---o
          \
           B---C---D (remote commits)

```

- After git pull --rebase:

```
                     A' (your commit, replayed)
                    /
  ---o---o---B---C-D
```

Notice: Your commit A becomes A' (new commit hash) because it now has a different parent.

#### Pros & Cons

Merge (git pull --no-rebase)

Pros:

- âœ… Preserves complete history (shows when branches diverged)
- âœ… Safer - doesn't rewrite commits
- âœ… Better for shared branches with multiple collaborators
- âœ… Maintains context of when integration happened

Cons:
- âŒ Creates extra merge commits (can clutter history)
- âŒ Non-linear history (harder to follow)
- âŒ git log becomes more complex with many merges

Rebase (git pull --rebase)

Pros:

- âœ… Clean, linear history (easier to read)
- âœ… No extra merge commits
- âœ… Perfect for keeping feature branches up-to-date
- âœ… Makes git log and git bisect simpler

Cons:

- âŒ Rewrites commit history (changes commit hashes)
- âŒ Can be dangerous if commits are already pushed and shared
- âŒ Potential for conflicts during replay (though same as merge)

#### Recommendations

Use Rebase for:

- ğŸ¯ Pulling from main/master (your typical workflow)
- ğŸ¯ Keeping feature branches up-to-date
- ğŸ¯ Solo work or small teams
- ğŸ¯ When you want clean, readable history

Use Merge for:

- ğŸ¯ Integrating feature branches into main (via PRs)
- ğŸ¯ When commits are already shared with others
- ğŸ¯ When you need to preserve the exact timeline
- ğŸ¯ Highly collaborative branches

### Setting

Based on your workflow (working on main, pulling updates), I recommend:

```zsh
# Set rebase as default for pulls
git config --global pull.rebase true

# But preserve merge commits when they exist
git config --global pull.rebase merges

The pull.rebase merges option is a nice middle ground: it rebases your commits but preserves any merge commits in your history (useful for PR merges).
```

Configuration Commands

```zsh
# Option 1: Always rebase (cleanest)
git config --global pull.rebase true

# Option 2: Always rebase, preserve merges (recommended)
git config --global pull.rebase merges

# Option 3: Always merge (safest, more history)
git config --global pull.rebase false

# Check current setting
git config --global pull.rebase
```
